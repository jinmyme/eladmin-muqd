(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0264"],{"8P1/":function(t,e,n){},CPpz:function(t,e,n){"use strict";n.r(e);var i=n("jSZs"),o=(n("GguQ"),{props:{isAdd:{type:Boolean,required:!0},sup_this:{type:Object,default:null}},data:function(){return{dialog:!1,loading:!1,form:[],style:"width: 184px",engine:[],rules:{type_name:[{required:!0,message:"请输入类型名称",trigger:"blur"}],table_name:[{required:!0,message:"请输入数据库表名",trigger:"blur"}],engine:[{required:!0,message:"请选择引擎",trigger:"change"}]},formDiv:[]}},created:function(){navigator.userAgent.indexOf("Chrome")>=0?this.style="width: 184px":this.style="width: 172px"},methods:{cancel:function(){this.resetForm()},doSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.isAdd?t.doAdd():t.doEdit()})},doAdd:function(){var t=this,e={},n=t.form;for(var i in n)""!=n[i]&&(e[""+i]=n[i]);lookEdit(e).then(function(e){t.loading=!0,t.resetForm(),t.$notify({title:"添加成功",type:"success",duration:2500}),t.loading=!1,t.sup_this.dataList()}).catch(function(e){t.loading=!1})},doEdit:function(){var t=this,e={},n=this.form;for(var i in n)""!=n[i]&&(e[""+i]=n[i]);lookEdit(e).then(function(e){t.resetForm(),t.$notify({title:"修改成功",type:"success",duration:2500}),t.loading=!1,t.sup_this.dataList()}).catch(function(e){t.loading=!1})},resetForm:function(){this.dialog=!1,this.$refs.form.resetFields(),this.form={type_id:"",type_name:"",table_name:"",engine:"",type_old_name:"",table_old_name:""}},look:function(t){var e=this;Object(i.f)({type_id:t.type_id}).then(function(t){var n=t.data.input_type_list,i=1;e.formDiv=n,n.forEach(function(t,n){4==t.input_type?e.form.push({line:[]}):10==t.input_type?t.input_default&&1!=t.input_default?e.form.push({line:!1}):e.form.push({line:!0}):e.form.push({line:""}),3==t.input_type&&(i=3)}),3==i&&setTimeout(function(){e.creatEditor()},1e3)}).catch(function(t){console.log(t.response.data.message)})}}}),r=(n("SPT9"),n("KHd+")),a=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.dialog,title:t.isAdd?"添加":"编辑","append-to-body":"",width:"70%"},on:{"update:visible":function(e){t.dialog=e}}},[n("el-form",{ref:"form",staticClass:"w-75",attrs:{"label-width":"160px"}},t._l(t.formDiv,function(e,i){return n("el-form-item",{key:i,attrs:{label:e.input_type_name}},[1==e.input_type_id?n("el-input",{model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}}):t._e(),t._v(" "),2==e.input_type_id?n("el-input",{attrs:{type:"textarea"},model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}}):t._e(),t._v(" "),3==e.input_type_id?n("div",{ref:"editor",refInFor:!0,staticClass:"editor"}):t._e(),t._v(" "),4==e.input_type_id?n("el-checkbox-group",{model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}},t._l(e.children,function(t,e){return n("el-checkbox",{key:"checkbox"+e,attrs:{label:t.input_name,name:"type"}})})):t._e(),t._v(" "),5==e.input_type_id?n("el-radio-group",{model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}},t._l(e.children,function(t,e){return n("el-radio",{key:"radio"+e,attrs:{label:t.input_name}})})):t._e(),t._v(" "),6==e.input_type_id?n("el-select",{model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}},t._l(e.children,function(t,e){return n("el-option",{key:"select"+e,attrs:{label:t.input_name,value:t.input_default}})})):t._e(),t._v(" "),8==e.input_type_id?n("el-col",{attrs:{span:6}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}})],1):t._e(),t._v(" "),7==e.input_type_id?n("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1):t._e(),t._v(" "),10==e.input_type_id?n("el-switch",{model:{value:t.form[i].line,callback:function(e){t.$set(t.form[i],"line",e)},expression:"form[index].line"}}):t._e()],1)})),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.doSubmit}},[t._v("确认")])],1)],1)},[],!1,null,null,null);a.options.__file="form.vue";e.default=a.exports},SPT9:function(t,e,n){"use strict";var i=n("8P1/");n.n(i).a},jSZs:function(t,e,n){"use strict";n.d(e,"i",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return p}),n.d(e,"b",function(){return c});var i=n("t3Un");function o(){return Object(i.a)({url:"/index.php/manage/Type/index",method:"post"})}function r(t){return Object(i.a)({url:"/index.php/manage/input/add_child",method:"post",data:t})}function a(t){return Object(i.a)({url:"/index.php/manage/Type/look",method:"post",data:t})}function l(t){return Object(i.a)({url:"index.php/manage/Type/add",method:"post",data:t})}function u(t){return Object(i.a)({url:"/index.php/manage/Type/delete",method:"post",data:t})}function d(t){return Object(i.a)({url:"/index.php/manage/input/index",method:"post",data:t})}function s(t){return Object(i.a)({url:"/index.php/manage/input/look",method:"post",data:t})}function p(t){return Object(i.a)({url:"/index.php/manage/input/add_exit",method:"post",data:t})}function c(t){return Object(i.a)({url:"/index.php/manage/input/delete",method:"post",data:t})}}}]);